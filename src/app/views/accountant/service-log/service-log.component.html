  <c-row>
<!-- form -->
<c-col class="col-6">
  <c-card class="mb-4" style="height: 700px;">

    <c-card-header class="d-flex justify-content-between align-items-center">
      <h3 class="m-0" style="float: left">Crear Bitácoras de Servicio</h3>
      <button
        class="ms-auto"
        cButton
        color="dark"
        style="float: right"
        id="btnSubmit"
        type="submit"
        (click)="saveService()"
        [disabled]="serviceLogForm.invalid"
      >
        + Crear
      </button>
    </c-card-header>

    <c-card-body class="p-4">
      <form
        cForm
        class="g-3"
        [formGroup]="serviceLogForm"
        (ngSubmit)="saveService()"
      >
        <c-row>
            <h4>Información de bitácora</h4>
            <!-- serviceLogName -->
            <c-col>
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="serviceLogName"
                  formControlName="serviceLogName"
                  name="serviceLogName"
                  required
                />
                <label for="serviceLogName">{{ this.serviceLogName }}</label>
                <div
                  class="alert alert-danger"
                  role="alert"
                  style="margin-top: 3px"
                  *ngIf="this.serviceLogForm.get('serviceLogName')?.errors?.['required'] && this.serviceLogForm.get('serviceLogName')?.touched"
                >
                  El nombre del servicio <strong> es obligatorio</strong>
                </div>
              </div>
            </c-col>

            <!-- serviceLogType -->
            <c-col>
              <div class="form-floating mb-3">
                <select
                  cSelect
                  id="serviceLogType"
                  class="form-control"
                  name="serviceLogType"
                  formControlName="serviceLogType"
                >
                  <option>Empleado</option>
                  <option>Empresa</option>
                </select>
                <label for="serviceLogType">{{ this.servicceLogType }}</label>
                <div
                  class="alert alert-danger"
                  *ngIf="this.serviceLogForm.get('serviceLogType')?.errors?.['required'] && this.serviceLogForm.get('serviceLogType')?.touched"
                  style="margin-top: 3px"
                >
                  <span
                    >El tipo del servicio<strong>
                      es obligatorio</strong
                    ></span
                  >
                </div>
              </div>
            </c-col>

            <c-col>
              <c-input-group class="mb-4  form-floating">
                <input
                type="text"
                class="form-control"
                id="taskName"
                formControlName="taskName"
                name="taskName"            
                required
                #taskNameInput
                />  
                <label for="taskName">Nombre de tarea</label>
                <button cButton matSubffix 
                (click)="addTaskToList(taskNameInput.value);
                taskNameInput.value = ''" 
                color="secondary" 
                variant="outline"
                >
                  <svg [cIcon]="icons.cilLevelDown" title="List Icon"></svg>
                </button>
              
            </c-input-group>
            </c-col>

            
          
        </c-row>

      </form>
      
      <c-row>
        <!-- TaskList -->
          <h4>Lista de actividades</h4>

          <div class="form-floating mb-3">
            <c-card>
              <c-card-body style="height: 40vh; overflow-y: auto;">
                
                <table
                  [hover]="true"
                  [responsive]="true"
                  [striped]="false"
                  align="middle"
                  cTable
                  class="mb-0 border"
                >
                  <thead cTableColor="dark">
                    <tr>
                      <th class="col-8">Nombre</th>

                      <th class="col-2">Eliminar</th>
                    </tr>
                  </thead>

                  <tbody>
                    <tr *ngFor="let task of taskList; index as i">
                      <!-- Empleado -->
                      <td>
                        {{ task.name }}
                        <!--- <span class="badge bg-secondary">{{doc.isMoral}}</span>-->
                      </td>

                      <!-- Empresa -->
                      <td>
                        <button
                          cButton
                          color="danger"
                          (click)="deleteTask(task.name, i)"
                          style="width: 100%;"
                        >
                        <svg [cIcon]="icons.cilTrash" title="List Icon"></svg>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

              </c-card-body>
            </c-card>
          </div>
          
          <div class="small text-medium-emphasis">
            <span
              >ⓘ Debe crear al menos una tarea para poder
              continuar</span
            >
          </div>
      </c-row>
    </c-card-body>
  </c-card>
</c-col>
<!-- list -->
<c-col>
  <c-card style="height: 700px;">
    <c-card-header class="d-flex justify-content-between align-items-center" style="height: 55px;">
      <h3 class="m-0" style="float: left">Bitácoras Creadas</h3>
      <pagination-controls
        (pageChange)="p1 = $event"
        id="service-logPagination"
        previousLabel=""
        nextLabel=""
        style="float: right"
        class="ms-auto"
      ></pagination-controls>
    </c-card-header>
    <c-card-body class="p-4 " style="height: 65vh; overflow-y: auto;">
      <table
        [hover]="true"
        [responsive]="true"
        [striped]="true"
        align="middle"
        cTable
        class="mb-0 border "
      >
        <thead cTableColor="dark" class="sticky-top">
          <tr>
            <th></th>
            <th>Nombre de bitácora</th>
            <th>Tipo</th>
            <th>Teléfono de oficina</th>
          </tr>
        </thead>

        <tbody style="height: 20vh;">
          <tr
            *ngFor="
              let serviceLog of serviceLogList
                | paginate
                  : {
                      itemsPerPage: 5,
                      currentPage: p1,
                      id: 'service-logPagination'
                    }
            "
          >
            <td>
              <!-- <c-avatar size="md" src="http://localhost:4000/getFile/{{ consultant.imageName }}" status=""></c-avatar> -->
            </td>
            <td>
              <div>{{ serviceLog.serviceLogName }}</div>
              <!-- <div class="small text-medium-emphasis">
                <span>{{ serviceLog.jobTitle }}</span> | Registered:
                {{ getFormattedDate(serviceLog.createdAt) }}
              </div> -->
            </td>
            <td>
              <div>{{ serviceLog.serviceLogType }}</div>
            </td>
            <td>
              <ul>
                <li *ngFor="let task of serviceLog.tasks">
                  {{ task.name }}
                  {{ task.completed }}
                  <svg
                    [cIcon]="
                      task.completed
                        ? 'icons.cilCheckCircle'
                        : 'icons.cilCircle'
                    "
                    title="Task Icon"
                  ></svg>
                </li>
              </ul>
            </td>
            <!-- <td class="text-center">
              <div>{{ serviceLog.officePhonenumber}}</div>
            </td> -->
          </tr>
        </tbody>
      </table>
    </c-card-body>
  </c-card>
</c-col>
  </c-row>
  
